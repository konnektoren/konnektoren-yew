.inbox-component {
    @apply relative;
}

/* Icon button */
.inbox-component__icon {
    @apply btn btn-primary btn-circle w-10 h-10;
    @apply flex items-center justify-center relative;
    @apply hover:-translate-y-0.5 hover:shadow-lg active:scale-95;
    @apply transition-all duration-300;
}

.inbox-component__icon i {
    @apply text-lg;
}

/* Unread count badge */
.inbox-component__unread-count {
    @apply badge badge-error badge-sm;
    @apply absolute -top-1 -right-1 w-[18px] h-[18px];
    @apply flex items-center justify-center rounded-full font-bold text-xs;
    animation: pulseBadge 2s ease-in-out infinite;
}

/* Content panel */
.inbox-component__content {
    @apply card bg-base-100 shadow-xl border border-base-300;
    @apply fixed right-8 sm:right-4 z-[100];
    @apply w-[300px] sm:w-[280px] h-[400px] sm:h-[350px];
    @apply flex flex-col overflow-hidden;
    bottom: calc(env(safe-area-inset-bottom, 0px) + 80px);
    animation: slideInInbox 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Header */
.inbox-component__header {
    @apply flex justify-between items-center;
    @apply px-6 sm:px-4 py-4 sm:py-3;
    @apply border-b border-base-300;
}

.inbox-component__title {
    @apply text-lg sm:text-base font-semibold m-0;
}

.inbox-component__close {
    @apply btn btn-sm btn-ghost btn-circle;
    @apply hover:scale-110 hover:bg-error/10 hover:text-error;
    @apply active:scale-95 transition-all duration-200;
}

/* Messages list */
.inbox-component__messages {
    @apply flex-grow overflow-y-auto p-6 sm:p-4;
}

.inbox-component__messages::-webkit-scrollbar {
    @apply w-2;
}

.inbox-component__messages::-webkit-scrollbar-track {
    @apply bg-base-200 rounded-full;
}

.inbox-component__messages::-webkit-scrollbar-thumb {
    @apply bg-base-300 rounded-full hover:bg-primary/50;
}

/* Individual message */
.inbox-component__message {
    @apply card bg-base-200 p-4 sm:p-3 mb-4 sm:mb-3;
    @apply cursor-pointer rounded-lg;
    @apply border-l-4 border-transparent;
    @apply hover:bg-base-300 hover:-translate-y-0.5 hover:shadow-sm;
    @apply active:scale-[0.98];
    @apply transition-all duration-200;
}

.inbox-component__message--unread {
    @apply font-bold border-l-primary bg-primary/5;
}

.inbox-component__message--unread:hover {
    @apply bg-primary/10;
}

.inbox-component__message-header {
    @apply flex justify-between items-center mb-2 gap-2;
}

.inbox-component__message-sender {
    @apply text-sm sm:text-xs font-medium text-primary truncate;
}

.inbox-component__message-timestamp {
    @apply text-xs sm:text-[0.625rem] text-base-content/60 whitespace-nowrap;
}

.inbox-component__message-content {
    @apply text-base sm:text-sm text-base-content leading-relaxed break-words;
}

/* Empty state */
.inbox-component__empty {
    @apply flex flex-col items-center justify-center h-full;
    @apply text-base-content/60 italic gap-4;
}

.inbox-component__empty i {
    @apply text-4xl sm:text-3xl text-base-content/30;
}

/* Loading state */
.inbox-component__loading {
    @apply flex items-center justify-center h-full;
}

.inbox-component__loading::after {
    content: "";
    @apply loading loading-spinner loading-md text-primary;
}

/* Large screens */
@screen lg {
    .inbox-component__content {
        @apply w-[350px] h-[450px];
    }
}

/* Animations */
@keyframes slideInInbox {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes pulseBadge {
    0%,
    100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.1);
        opacity: 0.8;
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .inbox-component__content {
        animation: none;
    }

    .inbox-component__unread-count {
        animation: none;
    }

    .inbox-component__icon:hover,
    .inbox-component__message:hover {
        @apply transform-none;
    }
}

/* High contrast */
@media (prefers-contrast: high) {
    .inbox-component__content {
        @apply border-2 border-base-content/20;
    }

    .inbox-component__message {
        @apply border border-base-content/10;
    }

    .inbox-component__message--unread {
        @apply border-2 border-primary;
    }
}

/* Print */
@media print {
    .inbox-component {
        @apply hidden;
    }
}
