.advertisement {
    @apply card bg-base-100 shadow-lg;
    @apply text-center relative overflow-hidden;
    @apply transition-all duration-300;
    @apply my-8 sm:my-6 mx-auto;
    /* Use natural width instead of forcing full width */
    width: fit-content;
    max-width: min(
        100%,
        600px
    ); /* Prevent becoming too wide on large screens */
}

.advertisement--fading {
    @apply opacity-0 scale-95;
}

/* Ad type specific layouts */
.advertisement:has(.buy-me-coffee),
.advertisement:has(.gumroad-subscribe-ad) {
    @apply p-4;
    max-width: min(100%, 400px);
}

.advertisement:has(.video) {
    @apply p-4 sm:p-2;
    max-width: min(100%, 600px);
}

.advertisement:has(.adsbygoogle) {
    @apply p-0;
    max-width: 100%;
    width: 100%;
}

.advertisement:hover {
    @apply shadow-xl -translate-y-0.5;
}

/* Info bar */
.advertisement__info {
    @apply flex items-center justify-between;
    @apply p-3 sm:p-2 bg-base-200/50 border-b border-base-300;
    @apply text-xs text-base-content/60;
}

.advertisement__label {
    @apply uppercase tracking-wider font-medium;
}

/* Timer */
.advertisement__timer {
    @apply flex-1 max-w-16 ml-3;
    @apply bg-base-300 rounded-full h-1 overflow-hidden;
}

.advertisement__timer-bar {
    @apply h-full bg-primary rounded-full;
    animation: ad-timer 20s linear infinite;
}

@layer utilities {
    @keyframes ad-timer {
        from {
            width: 0%;
        }
        to {
            width: 100%;
        }
    }
}

/* Message */
.advertisement__message {
    @apply alert alert-warning mb-4 text-sm;
}

/* Container */
.advertisement__container {
    @apply flex-center p-4 sm:p-3;
    @apply transition-all duration-300;
}

.advertisement__container:has(.adsbygoogle) {
    @apply p-0 min-h-80 sm:min-h-70 w-full;
}

.advertisement__container:has(.adsbygoogle) .adsbygoogle {
    @apply block w-full h-80 sm:h-70;
}

/* Loading state */
.advertisement--loading {
    @apply loading-overlay min-h-80 sm:min-h-70;
    @apply text-base-content/60 text-sm sm:text-xs;
}

/* Responsive */
@screen sm {
    .advertisement {
        max-width: min(100%, 500px);
    }

    .advertisement:has(.buy-me-coffee),
    .advertisement:has(.gumroad-subscribe-ad) {
        max-width: min(100%, 350px);
    }

    .advertisement:has(.video) {
        max-width: min(100%, 500px);
    }
}

@screen xs {
    .advertisement {
        @apply mx-4 my-4;
        max-width: calc(100% - 2rem); /* Account for margins */
    }

    .advertisement:has(.buy-me-coffee),
    .advertisement:has(.gumroad-subscribe-ad),
    .advertisement:has(.video) {
        max-width: calc(100% - 2rem);
    }
}
